[gd_scene load_steps=29 format=3 uid="uid://cgtxv6lx10wbk"]

[ext_resource type="Script" path="res://Bathroom.gd" id="1_efhsw"]
[ext_resource type="Texture2D" uid="uid://cj46ucfm5a6mj" path="res://art/Scenes/Bathroom/mirror.png" id="3_23xns"]
[ext_resource type="Texture2D" uid="uid://bt202ldhis26a" path="res://art/Scenes/Bathroom/1a - Broken-Bathroom (also used for 2f broom).jpg" id="3_kapfs"]
[ext_resource type="Script" path="res://Area2D.gd" id="4_auqva"]
[ext_resource type="Texture2D" uid="uid://byvhfkrctlmow" path="res://art/Scenes/Bathroom/openMirror.jpeg" id="5_ubr8t"]
[ext_resource type="Texture2D" uid="uid://ca02u8t1kcbm8" path="res://art/Scenes/Bathroom/sink.png" id="6_jh0gu"]
[ext_resource type="Script" path="res://TextBox.gd" id="7_sx7f0"]
[ext_resource type="Texture2D" uid="uid://c588y54orjsp8" path="res://art/Scenes/Bathroom/pills.png" id="8_8otk2"]
[ext_resource type="Texture2D" uid="uid://cjjhj4jahpyuv" path="res://art/Scenes/Bathroom/screwdriver.png" id="9_4lbrm"]
[ext_resource type="Texture2D" uid="uid://nstwht5lt4cl" path="res://art/Scenes/Bathroom/bloodyBathtub.png" id="10_cheoh"]
[ext_resource type="VideoStream" path="res://art/Scenes/Bathroom/testScene.ogv" id="11_1dde1"]
[ext_resource type="VideoStream" path="res://art/Scenes/Bathroom/Cutscenes/mirrorCrack.ogv" id="11_b55kt"]
[ext_resource type="Texture2D" uid="uid://bh0c8tu74v3fg" path="res://art/Scenes/Bathroom/bathtubBloddyHands.png" id="13_ugbix"]
[ext_resource type="Texture2D" uid="uid://btkeyxaqcfn2t" path="res://art/Scenes/Bathroom/backArrow.png" id="14_x56sf"]
[ext_resource type="Texture2D" uid="uid://buvtm1rrafj7k" path="res://art/Scenes/Bedroom/2a-Bedroom.png" id="15_j27w5"]
[ext_resource type="VideoStream" path="res://art/Scenes/Bathroom/2c-Bedroom TV Playing Scary Movie.ogv" id="16_gye3b"]
[ext_resource type="VideoStream" path="res://art/Scenes/Bathroom/2c-Bedroom Flashback Watching DVD.ogv" id="17_4ft7b"]
[ext_resource type="VideoStream" path="res://art/Scenes/Bathroom/2a-Wall Crack.ogv" id="17_pjj7u"]
[ext_resource type="VideoStream" path="res://art/Scenes/Bathroom/2e-Bedroom Flashback Seeing Family.ogv" id="19_hk3yh"]

[sub_resource type="Animation" id="Animation_407rs"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BloodyBathtub2:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_6b55g"]
resource_name = "new_animation"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BloodyBathtub2:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_q35rq"]
resource_name = "new_animation_2"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("BloodyBathtub2:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 1), Color(0, 0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_8hirg"]
_data = {
"RESET": SubResource("Animation_407rs"),
"new_animation": SubResource("Animation_6b55g"),
"new_animation_2": SubResource("Animation_q35rq")
}

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_43ulf"]
bg_color = Color(0, 0, 0, 1)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_cuh7v"]
bg_color = Color(0.188235, 0.188235, 0.188235, 1)

[sub_resource type="Animation" id="Animation_wktbs"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:visible_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_icy1a"]
resource_name = "show"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Label:visible_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_t7xu0"]
_data = {
"RESET": SubResource("Animation_wktbs"),
"show": SubResource("Animation_icy1a")
}

[node name="Bathroom" type="Node2D"]
position = Vector2(657, 393)
script = ExtResource("1_efhsw")

[node name="1a-Broken-bathroom(alsoUsedFor2fBroom)" type="Sprite2D" parent="."]
position = Vector2(-91, -73)
scale = Vector2(0.584259, 0.584259)
texture = ExtResource("3_kapfs")

[node name="Mirror" type="Sprite2D" parent="."]
z_index = 1
position = Vector2(-125, -168)
scale = Vector2(0.581785, 0.581785)
texture = ExtResource("3_23xns")

[node name="Area2D" type="Area2D" parent="Mirror"]
script = ExtResource("4_auqva")

[node name="ClosedMirrorShape2D" type="CollisionPolygon2D" parent="Mirror/Area2D"]
position = Vector2(1.71887, 8.59424)
polygon = PackedVector2Array(-126, -129, -129, 118, -97, 152, -50, 174, -23, 177, 25, 179, 48, 176, 81, 163, 114, 141, 131, 120, 129, -128, 100, -152, 57, -172, 22, -182, -30, -180, -67, -167, -102, -147)

[node name="OpenMirror" type="Sprite2D" parent="."]
visible = false
position = Vector2(-89.6745, -70.3706)
scale = Vector2(0.584499, 0.584499)
texture = ExtResource("5_ubr8t")

[node name="Area2D" type="Area2D" parent="OpenMirror"]

[node name="OpenMirrorShape2D" type="CollisionPolygon2D" parent="OpenMirror/Area2D"]
polygon = PackedVector2Array(-395.767, -291.924, -394.056, 525.87, -354.706, 529.292, -356.417, -293.635)

[node name="Sink" type="Sprite2D" parent="."]
position = Vector2(-126, 62)
scale = Vector2(0.580675, 0.580675)
texture = ExtResource("6_jh0gu")

[node name="Area2D" type="Area2D" parent="Sink"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Sink/Area2D"]
polygon = PackedVector2Array(-168.769, -161.881, -153.27, -108.495, -120.549, -84.3846, -55.1082, -56.8304, -41.3311, -3.44427, -39.609, 43.0533, -46.4976, 91.2731, -56.8303, 146.381, -51.6639, 158.436, -39.609, 156.714, -5.16632, 168.769, 51.6642, 156.714, 61.9969, 144.659, 46.4977, 89.551, 39.6092, 53.3862, 43.0535, 3.44427, 56.8306, -56.8304, 101.606, -72.3297, 136.049, -94.7175, 167.047, -129.16, 170.491, -160.159, 154.992, -165.325, 89.5511, -172.214, 41.3314, -172.214, -58.5525, -172.214, -115.383, -170.491)

[node name="Pills" type="Sprite2D" parent="."]
position = Vector2(-249, 26)
scale = Vector2(0.618159, 0.64373)
texture = ExtResource("8_8otk2")

[node name="Area2D" type="Area2D" parent="Pills"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Pills/Area2D"]
polygon = PackedVector2Array(-25.8834, -59.031, -29.1188, 57.4775, 29.1186, 59.0309, 32.354, -55.9241)

[node name="Screwdriver" type="Sprite2D" parent="."]
position = Vector2(-114, 178)
scale = Vector2(0.671052, 0.671052)
texture = ExtResource("9_4lbrm")

[node name="Area2D" type="Area2D" parent="Screwdriver"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Screwdriver/Area2D"]
polygon = PackedVector2Array(-96.8628, -14.902, -99.8432, 16.3922, 1.49023, 23.8432, 105.804, 25.3334, 107.294, -22.353, 14.902, -23.8431)

[node name="Crack" type="Area2D" parent="."]
position = Vector2(124.253, 108.401)
scale = Vector2(0.584259, 0.584259)

[node name="CrackShape2D" type="CollisionPolygon2D" parent="Crack"]
position = Vector2(-29.5292, -0.686096)
scale = Vector2(1.07355, 1.20388)
polygon = PackedVector2Array(-127.089, -94.8225, -68.8953, 79.7576, 177.571, 98.5849, 187.84, -99.9572)

[node name="Broom" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Broom"]
polygon = PackedVector2Array(422, -136, 393, 188, 432, 201, 473, 194, 474, -132)

[node name="BloodyBathtub" type="Sprite2D" parent="."]
visible = false
position = Vector2(-92.3334, -71.5)
scale = Vector2(0.586111, 0.586111)
texture = ExtResource("10_cheoh")

[node name="Area2D" type="Area2D" parent="BloodyBathtub"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="BloodyBathtub/Area2D"]
position = Vector2(-51.5542, -17.2585)
scale = Vector2(1.04911, 1.03867)
polygon = PackedVector2Array(-388.436, -113.46, -420.853, 125.403, -45.4976, 299.431, 630.142, 314.787, 710.332, 115.166, 133.649, -123.697)

[node name="Camera2D" type="Camera2D" parent="."]
visible = false
position = Vector2(-90, -70)
zoom = Vector2(1.03, 1.03)

[node name="DoorHandle" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="DoorHandle"]
polygon = PackedVector2Array(-394, -121, -399, -73, -367, -71, -357, -112, -375, -128)

[node name="MirrorCrack" type="VideoStreamPlayer" parent="."]
offset_left = -655.0
offset_top = -386.0
offset_right = -615.0
offset_bottom = -346.0
scale = Vector2(0.583, 0.583)
stream = ExtResource("11_b55kt")
volume_db = -16.84

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="."]
offset_left = -652.0
offset_top = -393.0
offset_right = 1268.0
offset_bottom = 695.0
scale = Vector2(0.583, 0.583)
stream = ExtResource("11_1dde1")
volume_db = -14.05

[node name="BathtubBloodyHands" type="Sprite2D" parent="."]
visible = false
position = Vector2(-92.5, -68.5)
scale = Vector2(0.585938, 0.600926)
texture = ExtResource("13_ugbix")

[node name="ToiletArea" type="Area2D" parent="."]
position = Vector2(-566.251, 122.185)
scale = Vector2(0.59, 0.59)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="ToiletArea"]
polygon = PackedVector2Array(-126.694, -246.077, -131.779, 167.483, 205.51, 159.008, 273.306, -27.4327, 3.81459, -122.348, 0.424759, -286.755)

[node name="BackArrow" type="Sprite2D" parent="."]
visible = false
position = Vector2(-590, -332)
scale = Vector2(0.0385742, 0.0385742)
texture = ExtResource("14_x56sf")

[node name="Area2D" type="Area2D" parent="BackArrow"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="BackArrow/Area2D"]
polygon = PackedVector2Array(-648.101, -1192.51, -1477.67, -129.62, -1192.51, 881.418, 77.7722, 1451.75, 1373.97, 674.025, 1425.82, -699.949, 337.013, -1348.05)

[node name="2a-bedroom" type="Sprite2D" parent="."]
position = Vector2(1999.89, 0.500017)
scale = Vector2(0.600116, 0.602778)
texture = ExtResource("15_j27w5")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
visible = false

[node name="BloodyBathtub2" type="Sprite2D" parent="CanvasLayer"]
modulate = Color(0, 0, 0, 1)
position = Vector2(587, 323)
scale = Vector2(0.611458, 0.596296)
texture = ExtResource("10_cheoh")

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer"]
libraries = {
"": SubResource("AnimationLibrary_8hirg")
}

[node name="CanvasLayer2" type="CanvasLayer" parent="."]
visible = false

[node name="BloodyBathtub2" type="Sprite2D" parent="CanvasLayer2"]
modulate = Color(0, 0, 0, 1)
position = Vector2(587, 323)
scale = Vector2(0.611458, 0.596296)
texture = ExtResource("10_cheoh")

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer2"]
libraries = {
"": SubResource("AnimationLibrary_8hirg")
}

[node name="TextBox" type="CanvasLayer" parent="."]
script = ExtResource("7_sx7f0")

[node name="TextboxContainer" type="MarginContainer" parent="TextBox"]
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -148.0
offset_right = -25.0
offset_bottom = -15.0
grow_horizontal = 2
grow_vertical = 0
theme_override_constants/margin_left = 16
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 16

[node name="Panel" type="Panel" parent="TextBox/TextboxContainer"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_43ulf")

[node name="MarginContainer" type="MarginContainer" parent="TextBox/TextboxContainer"]
layout_mode = 2
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 16

[node name="Panel" type="Panel" parent="TextBox/TextboxContainer/MarginContainer"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_cuh7v")

[node name="HBoxContainer" type="HBoxContainer" parent="TextBox/TextboxContainer/MarginContainer"]
z_index = 2
layout_mode = 2

[node name="Label" type="Label" parent="TextBox/TextboxContainer/MarginContainer/HBoxContainer"]
layout_mode = 2
text = "This sink doesn't  do anything"
visible_characters = 0
visible_ratio = 0.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="TextBox/TextboxContainer/MarginContainer/HBoxContainer"]
libraries = {
"": SubResource("AnimationLibrary_t7xu0")
}

[node name="BedroomCrack" type="Area2D" parent="."]
position = Vector2(1999.89, 0.500031)
scale = Vector2(0.600116, 0.602778)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="BedroomCrack"]
polygon = PackedVector2Array(388.444, 75.4838, 390.11, 287.834, 610.068, 286.175, 610.068, 80.4608)

[node name="Exorcist" type="Area2D" parent="."]
position = Vector2(1567.31, 243.4)
scale = Vector2(0.600116, 0.602778)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Exorcist"]
polygon = PackedVector2Array(27.8069, -33.843, 24.4741, 98.8759, 122.789, 102.194, 124.455, -33.843)

[node name="TV" type="Area2D" parent="."]
position = Vector2(1377, 213.5)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="TV"]
polygon = PackedVector2Array(391, -439.5, 391, -213.5, 790, -213.5, 786, -441.5)

[node name="MovieClip" type="VideoStreamPlayer" parent="."]
visible = false
offset_left = 1419.0
offset_top = -317.0
offset_right = 3339.0
offset_bottom = 771.0
scale = Vector2(0.6, 0.6)
stream = ExtResource("16_gye3b")
volume_db = -16.95

[node name="Bottles" type="Area2D" parent="."]
position = Vector2(1377, 213.5)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Bottles"]
polygon = PackedVector2Array(944, 7.5, 945, 104.5, 1189, 104.5, 1180, -0.5)

[node name="PictureFrame" type="Area2D" parent="."]
position = Vector2(1377, 213.5)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="PictureFrame"]
polygon = PackedVector2Array(1059, -124.5, 1065, -66.5, 1136, -70.5, 1129, -135.5)

[node name="Bed" type="Area2D" parent="."]
position = Vector2(1377, 213.5)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Bed"]
polygon = PackedVector2Array(298, -178.5, 293, -27.5, 272, -16.5, 276, 101.5, 918, 98.5, 916, -20.5, 846, -20.5, 835, -191.5)

[node name="Remote" type="Area2D" parent="."]
position = Vector2(1377, 213.5)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Remote"]
polygon = PackedVector2Array(51, -459.5, 51, -420.5, 149, -422.5, 151, -461.5)

[node name="DrawerSpecial" type="Area2D" parent="."]
position = Vector2(1480, -285)
scale = Vector2(0.0336914, 0.0336914)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="DrawerSpecial"]
polygon = PackedVector2Array(-1662.15, 9913.52, -1632.47, 13148.8, 4481.86, 13119.1, 4422.5, 9943.2)

[node name="FamilyFlashback" type="VideoStreamPlayer" parent="."]
visible = false
offset_left = 1424.0
offset_top = -325.0
offset_right = 3344.0
offset_bottom = 763.0
scale = Vector2(0.6, 0.6)
stream = ExtResource("19_hk3yh")
volume_db = -15.85
buffering_msec = 1000

[node name="Drawers" type="Area2D" parent="."]
position = Vector2(1480, -285)
scale = Vector2(0.0336914, 0.0336914)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Drawers"]
polygon = PackedVector2Array(-1602.79, 3116.53, -1602.79, 9913.52, 4422.5, 9972.88, 4452.18, 13119.1, -1484.06, 13208.1, -1573.11, 16621.5, 2196.41, 16591.8, 2493.22, 14840.6, 4422.5, 14781.2, 4541.22, 13415.9, 4422.5, 3116.53)

[node name="WallCrack" type="VideoStreamPlayer" parent="."]
visible = false
offset_left = 1424.0
offset_top = -325.0
offset_right = 3344.0
offset_bottom = 763.0
scale = Vector2(0.6, 0.6)
stream = ExtResource("17_pjj7u")
volume_db = -14.86
buffering_msec = 900

[node name="ToLivingRoom" type="Sprite2D" parent="."]
position = Vector2(2536, -282)
rotation = -3.14159
scale = Vector2(0.0295782, 0.0295782)
texture = ExtResource("14_x56sf")

[node name="Area2D" type="Area2D" parent="ToLivingRoom"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="ToLivingRoom/Area2D"]
polygon = PackedVector2Array(1115.69, 1115.69, 1048.07, -1149.5, -1115.69, -1115.69, -1115.69, 1115.69)

[node name="ExorcistFlashback" type="VideoStreamPlayer" parent="."]
visible = false
offset_left = 1424.0
offset_top = -325.0
offset_right = 3344.0
offset_bottom = 763.0
scale = Vector2(0.6, 0.6)
stream = ExtResource("17_4ft7b")
volume_db = -15.1

[node name="ToBathroom" type="Sprite2D" parent="."]
position = Vector2(1480, -285)
scale = Vector2(0.0336914, 0.0336914)
texture = ExtResource("14_x56sf")

[node name="Area2D" type="Area2D" parent="ToBathroom"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="ToBathroom/Area2D"]
polygon = PackedVector2Array(-1068.52, -1038.84, -949.801, 920.117, -89.0469, 1038.84, 682.668, 1009.16, 1395.02, 356.174, 1216.93, -1038.84)

[connection signal="input_event" from="Mirror/Area2D" to="." method="_on_area_open_mirror_input_event"]
[connection signal="mouse_entered" from="Mirror/Area2D" to="." method="change_cursor_hand"]
[connection signal="mouse_exited" from="Mirror/Area2D" to="." method="change_cursor_back"]
[connection signal="input_event" from="OpenMirror/Area2D" to="." method="_on_area_close_mirror_input_event"]
[connection signal="mouse_entered" from="OpenMirror/Area2D" to="." method="change_cursor_hand"]
[connection signal="mouse_exited" from="OpenMirror/Area2D" to="." method="change_cursor_back"]
[connection signal="input_event" from="Pills/Area2D" to="." method="_on_area_pills_input_event"]
[connection signal="input_event" from="Screwdriver/Area2D" to="." method="_on_area_screw_driver_input_event"]
[connection signal="input_event" from="Crack" to="." method="_on_area_crack_input_event"]
[connection signal="input_event" from="Broom" to="." method="_on_area_broom_input_event"]
[connection signal="input_event" from="BloodyBathtub/Area2D" to="." method="_on_area_blood_tub_input_event"]
[connection signal="input_event" from="DoorHandle" to="." method="_on_area_door_handle_input_event"]
[connection signal="input_event" from="ToiletArea" to="." method="_on_area_toilet_input_event"]
[connection signal="input_event" from="BackArrow/Area2D" to="." method="_on_area_back_arrow"]
[connection signal="input_event" from="BedroomCrack" to="." method="crack_interact"]
[connection signal="input_event" from="Exorcist" to="." method="dvd_case_interact"]
[connection signal="input_event" from="TV" to="." method="tv_interact"]
[connection signal="input_event" from="Bottles" to="." method="bottles_interact"]
[connection signal="input_event" from="PictureFrame" to="." method="picture_frame_interact"]
[connection signal="input_event" from="Bed" to="." method="bed_interact"]
[connection signal="input_event" from="Remote" to="." method="remote_interact"]
[connection signal="input_event" from="DrawerSpecial" to="." method="drawers_special_interact"]
[connection signal="input_event" from="Drawers" to="." method="drawers_interact"]
[connection signal="input_event" from="ToLivingRoom/Area2D" to="." method="to_livingroom"]
[connection signal="input_event" from="ToBathroom/Area2D" to="." method="to_bathroom"]
